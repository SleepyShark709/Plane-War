<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Plane-War</title>
    <style>
        #id-canvas {
            border: black 1px solid;
        }
    </style>
    <!--    game文件-->
    <script src="game/utils.js"></script>
    <script src="game/game.js"></script>
    <script src="game/game_scene.js"></script>
    <script src="game/game_image.js"></script>
    <!--    场景文件-->
    <script src="scene/main/Bullet.js"></script>

    <script src="scene/main/EnemiesBullet.js"></script>
    <script src="scene/main/player.js"></script>
    <script src="scene/main/cloud.js"></script>
    <script src="scene/main/enemy.js"></script>
    <script src="scene/main/particle.js"></script>
    <script src="scene/main/label.js"></script>
    <script src="scene/main/lifeTime.js"></script>

    <script src="scene/main/scene.js"></script>
    <!--    初始化结束场景文件-->
    <script src="scene/end/scene_end.js"></script>
    <script src="scene/title/scene_title.js"></script>
    <!--    关卡数据-->
    <script src="level.js"></script>


</head>
<body>
    <canvas id="id-canvas" width="512" height="768"></canvas>
    <hr>
    <input id="id-input-speed" type="range" value= 50>
    <div>
        <label>
            <input class="game-auto-slider" type="range" value= "10" data-value="config.player_speed">玩家速度: <span class="game-label">当前为默认值10</span>
        </label>
    </div>
    <div>
        <label>
            <input class="game-auto-slider" type="range" value= "10" data-value="config.bullet_speed">子弹速度: <span class="game-label">当前为默认值10</span>
        </label>
    </div>
    <div>
        <label>
            <input class="game-auto-slider" type="range" max="10" value="9" data-value="config.fire_cooldown">子弹冷却时间: <span class="game-label">当前为默认值9</span>
        </label>
    </div>
    <div>
        <label>
            <input class="game-auto-slider" type="range" min="-10" max="10" value="1" data-value="config.cloud_speed">云的速度: <span class="game-label">当前为默认值1</span>
        </label>
    </div>
    <script src="main.js"></script>
    <script>
        var bindAll = function (sel, eventName, callback) {
            log('bindall start')
            var l = document.querySelectorAll(sel)
            log('l is', l)
            for (let i = 0; i < l.length; i++) {
                var input = l[i]
                input.addEventListener(eventName, function (event) {
                    callback(event)
                })
            }
        }
        bindAll('.game-auto-slider', 'input', (event) => {
            let target = event.target
            let bindVar = target.dataset.value
            let v = target.value
            eval(bindVar + '=' + v)
            let label = target.closest('label').querySelector('.game-label')
            label.innerText = v
        } )
    </script>
</body>
</html>